<!--
author Romain Lembo
-->

<div id="newuser">

    <section id="createProfil">
        <h2>Créer son profil</h2>

        <form (ngSubmit)="createUser()" [formGroup]="createUserForm" class="form" role="form" #f="ngForm" novalidate>
            <p>* : Champs obligatoires</p>

            <div class="form-group">
                <input  id="usernameCreate" name="username" formControlName="username"
                        placeholder="Username*"
                        class="form-control form-control-sm"
                        type="text"
                        required>
            </div>

            <div class="form-group">
                <input  id="emailCreate" name="email" formControlName="email"
                        placeholder="Email*"
                        class="form-control form-control-sm"
                        type="email"
                        required>
            </div>

            <div class="form-group">
                <input id="phoneCreate" name="phone" formControlName="phone"
                       placeholder="Téléphone*"
                       class="form-control form-control-sm"
                       type="tel"
                       required>
            </div>

            <div class="form-group">
                <input  id="firstNameCreate" name="firstName" formControlName="firstName"
                        placeholder="Prénom*"
                        class="form-control form-control-sm"
                        type="text"
                        required>
            </div>

            <div class="form-group">
                <input  id="lastNameCreate" name="lastName" formControlName="lastName"
                        placeholder="Nom*"
                        class="form-control form-control-sm"
                        type="text"
                        required>
            </div>

            <div class="form-group">
                <input  id="cityCreate" name="city" formControlName="city"
                        placeholder="Ville*"
                        class="form-control form-control-sm"
                        type="text"
                        required>
            </div>

            <div class="form-group">
                <input  id="addressCreate" name="address" formControlName="address"
                        placeholder="Rue*"
                        class="form-control form-control-sm"
                        type="text"
                        required>
            </div>

            <div class="form-group">
                <input  id="cpCreate" name="cp" formControlName="cp"
                        placeholder="Code Postale*"
                        class="form-control form-control-sm"
                        type="text"
                        required minlength="5" maxlength="5">

                <p *ngIf="createUserForm.get('cp').hasError('minlength')" class="alert alert-danger">Saisir 5 chiffres</p>
            </div>

            <div class="form-group">
                <label>Conducteur ?*</label>

                <mat-radio-group formControlName="is_driver"
                                 [formGroup]="is_driver_ctrl"
                                 (change)="changeIsDriver($event)"
                                 required>
                    <mat-radio-button value="true">Oui</mat-radio-button>
                    <mat-radio-button value="false">Non</mat-radio-button>
                </mat-radio-group>
            </div>

            <div class="form-group" *ngIf="checkIsDriver()">
                <label>Etes-vous véhiculé ?</label>

                <mat-radio-group formControlName="have_car"
                                 [formGroup]="have_car_ctrl"
                                 (change)="changeHaveCar($event)">
                    <mat-radio-button value="true">Oui</mat-radio-button>
                    <mat-radio-button value="false">Non</mat-radio-button>
                </mat-radio-group>
            </div>

            <div class="form-group">
                <input  id="passwordCreate" name="password" formControlName="password"
                        placeholder="Mot de passe*"
                        class="form-control form-control-sm"
                        type="password"
                        required>
            </div>

            <div id="newdriver" *ngIf="checkHaveCar()">
                <h4>Ajouter sa voiture</h4>

                <div class="form-group">
                    <input  id="licencePlateCreate" name="licencePlate" formControlName="licencePlate"
                            placeholder="Plaque d'immatriculation"
                            class="form-control form-control-sm"
                            type="text">
                </div>

                <div class="form-group">
                    <input  id="makeCreate" name="make" formControlName="make"
                            placeholder="Marque"
                            class="form-control form-control-sm"
                            type="text">
                </div>

                <div class="form-group">
                    <input  id="modelCreate" name="model" formControlName="model"
                            placeholder="Model"
                            class="form-control form-control-sm"
                            type="text">
                </div>

                <div class="form-group">
                    <label>Capacité de la voiture</label>
                    <mat-slider min="1" max="5" step="1" thumbLabel
                                id="capacityCreate" name="capacity" formControlName="capacity">
                    </mat-slider>
                </div>
            </div>

            <div class="form-group">
                <button type="submit" [disabled]="createUserForm.invalid" class="btn btn-primary btn-block">Créer</button>
            </div>

        </form>
    </section><hr>

</div>
